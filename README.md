## Instructions

- Clone or fork the repository to `~/.config/`.
- Run script `setupHardwareConfig.sh` to copy your hardware configuration.
- Configure the files to your liking (username, packages, etc.).
- Compile the flake with `sudo nixos-rebuild switch --flake ~/.config/nixos`.

> If you change your hardware, you have to regenerate the file with `nixos-generate-config`. You can read more [here](https://wiki.nixos.org/wiki/Nixos-generate-config).

## Config

### Entry point

In `flake.nix`, you can change the architecture and username. This file defines the entry point and imports the main modules.

### Home

`home/home.nix` contains the user configuration: home directory path, Git settings, user-level packages, and GNOME configuration.

### System

`host/configuration.nix` defines system-wide settings such as time zone, keyboard layout, enabled services, user creation and configuration, and more.

> Use the `configuration.nix` generated by NixOS during installation as a reference.

### Modules

The `modules/` directory contains Nix modules that you can import as needed.
For example, `modules/host/desktop` includes the configurations for each desktop environment.

In `configuration.nix`, remove the desktop environments you do not want to install and add the ones you do.
The same logic applies to user modules, but they are managed from `home.nix`.

## What this flake includes

> Compared to the default Nix configuration with GNOME.

**At the system level:**

- Zen kernel
- Custom resolution in kernel params
  > **Remove or modify this in `configuration.nix`, the resolution may be incompatible with your system, or it may point to the wrong video adapter on your system**
- Zram
- Git
- Flatpak and GNOME Software
- Steam
- Chrome
- Bluetooth enabled
- AppImages support
- Nix-ld with the list provided [here](https://wiki.nixos.org/wiki/Nix-ld).
- Printer support disabled
- Syncthing
- Virtualization with Podman enabled
- xTerm removed
- Automatic garbage disposal every 30 days
- Store optimized
- Extra GNOME packages uninstalled, except for tools considered essential (image and video viewer, gnome disk, gnome console, gnome text editor, etc.). Check `configuration.nix` to see the list of packages to be removed
- Extra module with Cosmic DE, _disabled by default_. You can use it as a reference to add more modules.

**At the user level:**

- Nixd and Alejandra for autocompletion and formatting in `nix` files in IDEs
- VS Code
- PaperWM (extension)
- AppIndicator (extension)
- Initial DE settings were modified, such as dark mode enabled, shortcuts, and settings for PaperWM
- Extra module for Cosmic DE, _disabled by default_. You can use it as a reference to add more modules.

**Aliases are also built for bash:**

- NixOS rebuild with flake: `nixos-rebuild-switch`
- Update flake.lock and rebuild: `nixos-rebuild-update`
- Clean up old generations: `nixos-cleanup` _It will delete all except the current one_
- Show available generations: `nixos-list-generations`
